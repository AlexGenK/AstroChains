<%= form_for [@astro_object, @chain] do |f| %>

	<p>
		<%= f.label :kind, 'Тип цепочки:' %>
		<%= f.select :kind, ['По управлению', 
							 'По экзальтации',
							 'По падению',
							 'По изгнанию'] %>
	</p>

	<p>
		<%= f.label :septener, 'По септенеру' %>
		<%= f.check_box :septener %>
	</p>

	<!-- свойства планет в цепочке организованы в таблицу -->
	<table>
		<thead>
			<tr>
				<th></th>
				<th></th>
				<th>R</th>
				<th>Вес</th>
				<th>Центр</th>
				<th></th>
				<th></th>
			</tr>
		</thead>
		<tbody>
			<% Chain::PLANETS.each do |planet|%>
				<tr>
					<td><%= planet[:planet_name]%></td>
					<td><span class='astrofont'><%= planet[:planet_symbol]%></span></td>
					<td><%= f.check_box "#{planet[:planet_prefix]}_retro".to_sym %></td>
					<td><%= f.number_field "#{planet[:planet_prefix]}_weigth".to_sym %></td>
					<td><%= f.select "#{planet[:planet_prefix]}_center".to_sym, [['нет', 0],
																				['первый', 1],
																				['второй', 2],
																				['третий', 3]] %>
					</td>
					<td>---></td>
					<td><%= f.select "#{planet[:planet_prefix]}_relation".to_sym, [['___', 100],
																				  ['Q', 0],
																				  ['R', 1],
																				  ['S', 2],
																				  ['T', 3],
																				  ['U', 4],
																				  ['V', 5],
																				  ['W', 6],
																				  ['X', 7],
																				  ['Y', 8],
																				  ['Z', 9]], 
						{}, {class: "astrofont"} %>	
					</td>			
				</tr>
			<% end %>
		</tbody>
	</table>

	<p>
		<%= f.submit 'Просмотреть' %>
	</p>

	<!-- визуализация постренной цепочки -->
	<% if !@preview_name.empty? %>
		<br>
		<%= image_tag("graphs/#{@preview_name}.png") %>
	<% end %>

	<p>
		<%= f.label :comment, 'Комментарий:' %><br>
		<%= f.text_area :comment %>
	</p>

	<p>
		<%= f.submit 'Сохранить' %>
	</p>

<% end %>